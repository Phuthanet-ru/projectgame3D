[gd_scene load_steps=13 format=3 uid="uid://bqqgyqafm7xwp"]

[ext_resource type="Environment" uid="uid://bqnqgflivjvue" path="res://scenes/main-environment.tres" id="1_ahusb"]
[ext_resource type="Script" uid="uid://djpme521r3cxe" path="res://scripts/main.gd" id="1_jkv2x"]
[ext_resource type="PackedScene" uid="uid://ceibpc7gvf4ge" path="res://scenes/player.tscn" id="3_jkv2x"]
[ext_resource type="Script" uid="uid://davslctbxbqvg" path="res://addons/road-generator/nodes/road_manager.gd" id="4_choun"]
[ext_resource type="PackedScene" uid="uid://bc346822680h2" path="res://objects/kenney_city-kit/tile_low_2.tscn" id="4_o6xl0"]
[ext_resource type="Script" uid="uid://bv3ainl18ttt5" path="res://addons/road-generator/nodes/road_container.gd" id="5_ya4ey"]
[ext_resource type="Script" uid="uid://vrpv30v618xk" path="res://addons/road-generator/nodes/road_point.gd" id="6_eb6dy"]
[ext_resource type="Script" uid="uid://bap462su1xjtx" path="res://scripts/hud.gd" id="11_apvpm"]
[ext_resource type="PackedScene" uid="uid://dfpisimsgf5ce" path="res://objects/coin.tscn" id="11_ya4ey"]
[ext_resource type="Texture2D" uid="uid://cd7oyc56ehkx1" path="res://sprites/coin.png" id="13_jfda3"]
[ext_resource type="FontFile" uid="uid://d0cxd77jybrcn" path="res://fonts/lilita_one_regular.ttf" id="17_tk810"]

[sub_resource type="LabelSettings" id="LabelSettings_38ys3"]
font = ExtResource("17_tk810")
font_size = 48
shadow_color = Color(0, 0, 0, 0.376471)
shadow_offset = Vector2(2, 2)

[node name="Main" type="Node3D"]
script = ExtResource("1_jkv2x")

[node name="Environment" type="WorldEnvironment" parent="."]
environment = ExtResource("1_ahusb")

[node name="Nissan GTR" parent="." groups=["player"] instance=ExtResource("3_jkv2x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.448349, 1.6108842, 0.051303864)

[node name="World" type="Node3D" parent="."]

[node name="RoadManager" type="Node3D" parent="World"]
script = ExtResource("4_choun")
metadata/_custom_type_script = "uid://davslctbxbqvg"

[node name="Road_001" type="Node3D" parent="World/RoadManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.590786, 0)
script = ExtResource("5_ya4ey")
use_lowpoly_preview = true

[node name="RP_001" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(0.99682236, 0.00018103368, -0.07965666, 0, 0.99999744, 0.002272669, 0.07965686, -0.0022654473, 0.9968198, -0.13928485, -6.604644, 147.17523)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 0.0
next_mag = 86.62765
prior_pt_init = NodePath("../RP_002")
next_pt_init = NodePath("../RP_003")

[node name="RP_002" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(0.99682236, 0.00037069002, -0.07965603, 0, 0.99998915, 0.0046535837, 0.07965689, -0.004638796, 0.99681157, 0.76371527, -6.604637, -94.87927)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 54.999947
next_mag = 54.999947
prior_pt_init = NodePath("../RP_014")
next_pt_init = NodePath("../RP_001")

[node name="RP_003" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(0.7329267, 0.0019391439, -0.6803048, 0.0014085169, 0.99998945, 0.004367841, 0.6803061, -0.0041595283, 0.7329163, -72.85431, -5.985211, 304.4317)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 86.62765
next_mag = 97.305016
prior_pt_init = NodePath("../RP_001")
next_pt_init = NodePath("../RP_004")

[node name="RP_004" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(-0.38006923, 0.0036164108, -0.924951, 0.004584399, 0.9999874, 0.0020260278, 0.9249466, -0.0034703135, -0.38008106, -266.5405, -5.280944, 323.3603)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 97.305016
next_mag = 120.53964
prior_pt_init = NodePath("../RP_003")
next_pt_init = NodePath("../RP_005")

[node name="RP_005" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(-0.9920621, 0.0038157597, -0.12569001, 0.004023916, 0.9999909, -0.0014022624, 0.1256835, -0.0018968974, -0.9920686, -397.84494, -5.257751, 121.17616)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 120.53964
next_mag = 160.29848
prior_pt_init = NodePath("../RP_004")
next_pt_init = NodePath("../RP_006")

[node name="RP_006" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(-0.9692893, 0.0034455326, 0.24589859, 0.0032321548, 0.99999386, -0.0012713287, -0.24590145, -0.0004375029, -0.96929467, -377.1738, -5.6935716, -198.75348)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 160.29848
next_mag = 119.755875
prior_pt_init = NodePath("../RP_005")
next_pt_init = NodePath("../RP_007")

[node name="RP_007" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(-0.78552395, 0.0022088406, 0.6188271, 0.002435825, 0.9999968, -0.0004774102, -0.61882615, 0.0011323375, -0.78552693, -270.30933, -5.9055457, -413.1034)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 119.755875
next_mag = 111.59331
prior_pt_init = NodePath("../RP_006")
next_pt_init = NodePath("../RP_008")

[node name="RP_008" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(-0.7767258, 0.0007979112, 0.6298381, 0.0024288555, 0.99999547, 0.0017284558, -0.6298339, 0.0028723225, -0.77672434, -130.96297, -5.7659273, -587.4447)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 111.59331
next_mag = 100.77668
prior_pt_init = NodePath("../RP_007")
next_pt_init = NodePath("../RP_009")

[node name="RP_009" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(-0.33876413, -0.0013709563, 0.9408701, 0.0029727893, 0.99999225, 0.0025274688, -0.9408664, 0.0036532253, -0.33875746, 34.551575, -5.317624, -702.46014)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 100.77668
next_mag = 71.27314
prior_pt_init = NodePath("../RP_008")
next_pt_init = NodePath("../RP_010")

[node name="RP_010" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(0.8914433, -0.002356723, 0.4531255, 0.0028775106, 0.99999565, -0.00045997303, -0.4531225, 0.001713914, 0.8914463, 153.67633, -5.190336, -624.1736)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 71.27314
next_mag = 63.84272
prior_pt_init = NodePath("../RP_009")
next_pt_init = NodePath("../RP_011")

[node name="RP_011" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(0.5847648, -0.00035238793, -0.8112024, -1.2202805e-05, 0.99999976, -0.0004431982, 0.8112025, 0.00026906576, 0.5847647, 100.511024, -5.264554, -508.08276)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 63.84272
next_mag = 59.05473
prior_pt_init = NodePath("../RP_010")
next_pt_init = NodePath("../RP_012")

[node name="RP_012" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(0.1321644, 0.0035985217, -0.9912209, -0.0002201323, 0.9999933, 0.0036010162, 0.9912275, -0.00025772658, 0.13216433, -9.562222, -5.0648766, -465.2605)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 59.05473
next_mag = 64.10983
prior_pt_init = NodePath("../RP_011")
next_pt_init = NodePath("../RP_013")

[node name="RP_013" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(0.9649994, 0.0030515813, 0.2622334, -0.0035401771, 0.9999926, 0.0013907871, -0.26222727, -0.0022704622, 0.96500313, -41.67975, -4.667326, -341.1289)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 64.10983
next_mag = 75.790886
prior_pt_init = NodePath("../RP_012")
next_pt_init = NodePath("../RP_014")

[node name="RP_014" type="Node3D" parent="World/RoadManager/Road_001"]
transform = Transform3D(0.9724777, 0.023404503, 0.23181626, 0, 0.99494183, -0.10045072, -0.23299477, 0.097686134, 0.9675588, -4.188446, -12.195461, -194.46284)
script = ExtResource("6_eb6dy")
traffic_dir = Array[int]([2, 2, 1, 1])
lanes = Array[int]([2, 4, 4, 2])
prior_mag = 75.790886
next_mag = 75.790886
prior_pt_init = NodePath("../RP_013")
next_pt_init = NodePath("../RP_002")

[node name="tile-low2" parent="World" instance=ExtResource("4_o6xl0")]
transform = Transform3D(400, 0, 0, 0, 1, 0, 0, 0, 400, -1.1740417, -6.8746414, 1.3496552)
visible = false

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.422618, -0.694272, 0.582563, 0, 0.642788, 0.766044, -0.906308, 0.323744, -0.271654, 0, 0, 0)
shadow_enabled = true
shadow_opacity = 0.75

[node name="HUD" type="Control" parent="."]
layout_mode = 3
anchors_preset = 13
anchor_left = 0.5
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -640.0
offset_right = 640.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 8
size_flags_vertical = 8
script = ExtResource("11_apvpm")

[node name="Icon" type="TextureRect" parent="HUD"]
layout_mode = 0
offset_left = 57.0
offset_top = 67.0
offset_right = 313.0
offset_bottom = 323.0
scale = Vector2(0.2, 0.2)
texture = ExtResource("13_jfda3")

[node name="x" type="Label" parent="HUD"]
layout_mode = 0
offset_left = 112.0
offset_top = 64.0
offset_right = 144.0
offset_bottom = 123.0
text = "Ã—"
label_settings = SubResource("LabelSettings_38ys3")
metadata/_edit_use_anchors_ = true

[node name="Coins" type="Label" parent="HUD"]
layout_mode = 0
offset_left = 144.0
offset_top = 64.0
offset_right = 368.0
offset_bottom = 123.0
text = "0"
label_settings = SubResource("LabelSettings_38ys3")
metadata/_edit_use_anchors_ = true

[node name="coin" parent="." instance=ExtResource("11_ya4ey")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.670803, -0.94270515, 177.42242)

[node name="coin2" parent="." instance=ExtResource("11_ya4ey")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.02372694, -0.9097614, 30.122599)

[node name="coin3" parent="." instance=ExtResource("11_ya4ey")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.08009052, -0.9163456, 43.149723)

[node name="coin4" parent="." instance=ExtResource("11_ya4ey")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.382838, -0.931118, 65.65295)

[node name="coin5" parent="." instance=ExtResource("11_ya4ey")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5186919, -0.94542503, 83.455025)

[connection signal="coin_collected" from="Nissan GTR" to="." method="_on_nissan_gtr_coin_collected"]
